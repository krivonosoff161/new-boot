{% extends "base.html" %}

{% block title %}–î–∞—à–±–æ—Ä–¥ - Enhanced Trading System v3.0{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="mb-4">üìä –î–∞—à–±–æ—Ä–¥</h1>
        <div class="alert alert-info">
            <h4>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Enhanced Trading System v3.0!</h4>
            <p>–í–∞—à–∞ —Ä–æ–ª—å: <strong>{{ session.role }}</strong></p>
            <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <strong>{{ session.username }}</strong></p>
        </div>
    </div>
</div>

<!-- –°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –±–∏—Ä–∂ -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card border-warning">
            <div class="card-header bg-warning text-dark">
                <h5><i class="fas fa-exchange-alt"></i> üîë –í—ã–±–æ—Ä –±–∏—Ä–∂–∏ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∏—Ä–∂–∏ (10+):</h6>
                        <div class="row">
                            <div class="col-6">
                                <div class="list-group list-group-flush">
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Binance</strong>
                                            <br><small class="text-muted">–ö—Ä—É–ø–Ω–µ–π—à–∞—è –±–∏—Ä–∂–∞</small>
                                        </div>
                                        <span class="badge bg-success">‚òÖ</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>OKX</strong>
                                            <br><small class="text-muted">–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏—Ä–∂–∞</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Bybit</strong>
                                            <br><small class="text-muted">–§—å—é—á–µ—Ä—Å—ã</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>KuCoin</strong>
                                            <br><small class="text-muted">–ê–ª—å—Ç–∫–æ–∏–Ω—ã</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Gate.io</strong>
                                            <br><small class="text-muted">–ú–Ω–æ–≥–æ –ø–∞—Ä</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="list-group list-group-flush">
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Huobi</strong>
                                            <br><small class="text-muted">–ö–∏—Ç–∞–π—Å–∫–∞—è –±–∏—Ä–∂–∞</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Bitget</strong>
                                            <br><small class="text-muted">–ö–æ–ø–∏-—Ç—Ä–µ–π–¥–∏–Ω–≥</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>MEXC</strong>
                                            <br><small class="text-muted">–ù–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Bitfinex</strong>
                                            <br><small class="text-muted">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center py-2">
                                        <div>
                                            <strong>Kraken</strong>
                                            <br><small class="text-muted">–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è</small>
                                        </div>
                                        <span class="badge bg-primary">‚úì</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-2">
                            <small class="text-muted">
                                <i class="fas fa-info-circle"></i> 
                                <a href="#" onclick="showAllExchanges()" class="text-decoration-none" style="color: #6c757d !important;">
                                    –ò –µ—â–µ 5+ –±–∏—Ä–∂ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CCXT
                                </a>
                            </small>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h6>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π:</h6>
                        {% if api_keys %}
                            <div class="alert alert-success">
                                <i class="fas fa-check-circle"></i>
                                <strong>–û—Ç–ª–∏—á–Ω–æ!</strong> API –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã ({{ api_keys|length }} –∫–ª—é—á–µ–π).
                            </div>
                            <div class="list-group">
                                {% for key in api_keys %}
                                <div class="list-group-item d-flex justify-content-between align-items-center">
                                    <div>
                                        <strong>{{ key.exchange|upper }}</strong>
                                        <br><small class="text-muted">{{ key.mode|title }} —Ä–µ–∂–∏–º</small>
                                    </div>
                                    <span class="badge bg-{% if key.validation_status == 'valid' %}success{% else %}warning{% endif %}">
                                        {% if key.validation_status == 'valid' %}‚úì –í–∞–ª–∏–¥–Ω—ã–π{% else %}‚ö† –ü—Ä–æ–≤–µ—Ä–∫–∞{% endif %}
                                    </span>
                                </div>
                                {% endfor %}
                            </div>
                        {% else %}
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>–í–Ω–∏–º–∞–Ω–∏–µ!</strong> –î–ª—è –Ω–∞—á–∞–ª–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á–∏.
                            </div>
                            <a href="/api-keys" class="btn btn-warning btn-lg">
                                <i class="fas fa-key"></i> –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á–∏
                            </a>
                        {% endif %}
                        <br><br>
                        <small class="text-muted">
                            {% if api_keys %}–í–∞—à–∏ –∫–ª—é—á–∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–æ—Ä–≥–æ–≤–ª–µ{% else %}–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª—é—á–µ–π –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –±–∏—Ä–∂—É –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏{% endif %}
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card border-primary">
            <div class="card-header bg-primary text-white">
                <h5><i class="fas fa-th"></i> üéØ Grid Trading Bot</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-success mb-3">
                    <h6><i class="fas fa-shield-alt"></i> –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤</h6>
                    <p class="mb-2"><strong>–í–∞—à–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤ –Ω–∞–¥–µ–∂–Ω—ã—Ö —Ä—É–∫–∞—Ö!</strong></p>
                    <small>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏</small>
                </div>
                
                <div class="row mb-3">
                    <div class="col-6">
                        <div class="text-center">
                            <div class="fs-4 text-primary" id="gridBotStatus">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                            <small class="text-muted">–°—Ç–∞—Ç—É—Å</small>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="text-center">
                            <div class="fs-4 text-success" id="gridBotProfit">$0.00</div>
                            <small class="text-muted">–ü—Ä–∏–±—ã–ª—å</small>
                        </div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <h6><i class="fas fa-cogs"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:</h6>
                    <ul class="list-unstyled small">
                        <li><i class="fas fa-check text-success"></i> <strong>–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞</strong> - RSI, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥—ã</li>
                        <li><i class="fas fa-check text-success"></i> <strong>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–µ–∂–∏–º—ã</strong> - –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π, –±–∞–∑–æ–≤—ã–π, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π</li>
                        <li><i class="fas fa-check text-success"></i> <strong>–£–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong> - —Å—Ä–µ–¥—Å—Ç–≤–∞ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏</li>
                        <li><i class="fas fa-check text-success"></i> <strong>–ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–∏—Å–∫–æ–≤</strong> - —Å—Ç–æ–ø-–ª–æ—Å—Å—ã –∏ –ª–∏–º–∏—Ç—ã</li>
                    </ul>
                </div>
                
                <div class="mb-3">
                    <h6><i class="fas fa-chart-line"></i> –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤:</h6>
                    <div class="progress mb-2" style="height: 8px;">
                        <div class="progress-bar bg-success" style="width: 40%"></div>
                        <div class="progress-bar bg-warning" style="width: 35%"></div>
                        <div class="progress-bar bg-info" style="width: 25%"></div>
                    </div>
                    <div class="row small text-muted">
                        <div class="col-4">BTC/USDT: 40%</div>
                        <div class="col-4">ETH/USDT: 35%</div>
                        <div class="col-4">–û—Å—Ç–∞–ª—å–Ω—ã–µ: 25%</div>
                    </div>
                </div>
                
                <div class="d-grid gap-2">
                    <a href="/bots" class="btn btn-primary">
                        <i class="fas fa-play"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card border-warning">
            <div class="card-header bg-warning text-dark">
                <h5><i class="fas fa-bolt"></i> ‚ö° Scalp Trading Bot</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-warning mb-3">
                    <h6><i class="fas fa-brain"></i> –°–∏—Å—Ç–µ–º–∞ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è</h6>
                    <p class="mb-2"><strong>–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–µ —Å–¥–µ–ª–∫–∏!</strong></p>
                    <small>–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä—ã–Ω–æ–∫ –∏ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏</small>
    </div>

                <div class="row mb-3">
                    <div class="col-6">
                        <div class="text-center">
                            <div class="fs-4 text-warning" id="scalpBotStatus">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                            <small class="text-muted">–°—Ç–∞—Ç—É—Å</small>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="text-center">
                            <div class="fs-4 text-success" id="scalpBotProfit">$0.00</div>
                            <small class="text-muted">–ü—Ä–∏–±—ã–ª—å</small>
            </div>
        </div>
    </div>

                <div class="mb-3">
                    <h6><i class="fas fa-cogs"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:</h6>
                    <ul class="list-unstyled small">
                        <li><i class="fas fa-check text-success"></i> <strong>–ò–ò –∞–Ω–∞–ª–∏–∑</strong> - –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li>
                        <li><i class="fas fa-check text-success"></i> <strong>–ë—ã—Å—Ç—Ä—ã–µ —Å–¥–µ–ª–∫–∏</strong> - —Å–∫–∞–ª—å–ø–∏–Ω–≥ –∑–∞ —Å–µ–∫—É–Ω–¥—ã</li>
                        <li><i class="fas fa-check text-success"></i> <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong> - –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞</li>
                        <li><i class="fas fa-check text-success"></i> <strong>–í—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å</strong> - –º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö —Å–¥–µ–ª–æ–∫</li>
                    </ul>
    </div>

                <div class="mb-3">
                    <h6><i class="fas fa-chart-line"></i> –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:</h6>
                    <div class="progress mb-2" style="height: 8px;">
                        <div class="progress-bar bg-warning" style="width: 70%"></div>
                        <div class="progress-bar bg-success" style="width: 30%"></div>
                    </div>
                    <div class="row small text-muted">
                        <div class="col-7">–ë—ã—Å—Ç—Ä—ã–µ —Å–¥–µ–ª–∫–∏: 70%</div>
                        <div class="col-5">–ü—Ä–∏–±—ã–ª—å: 30%</div>
        </div>
    </div>

                <div class="d-grid gap-2">
                    <a href="/bots" class="btn btn-warning">
                        <i class="fas fa-play"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-6">
        <div class="card" style="cursor: pointer;" onclick="showBalanceModal()">
            <div class="card-header">
                <h5>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ <i class="fas fa-info-circle float-end"></i></h5>
            </div>
            <div class="card-body">
                <p>–û–±—â–∏–π –±–∞–ª–∞–Ω—Å: <strong id="totalBalance">$0.00</strong></p>
                <p>–ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ—Ç—ã: <strong id="activeBotsCount">0</strong></p>
                <p>–í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫: <strong id="totalTrades">0</strong></p>
                <div class="mt-3">
                    <button class="btn btn-primary btn-sm" onclick="showBalanceModal()">
                        <i class="fas fa-coins"></i> –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≤–∞–ª—é—Ç—ã
                    </button>
                </div>
                <small class="text-muted">–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–æ–≤ –ø–æ –±–∏—Ä–∂–∞–º</small>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h5>
            </div>
            <div class="card-body">
                <p>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: <span class="badge bg-secondary">–û—Ç–∫–ª—é—á–µ–Ω—ã</span></p>
                <p>2FA: <span class="badge bg-secondary">–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞</span></p>
                <button class="btn btn-outline-primary" disabled>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</button>
                </div>
            </div>
        </div>
    </div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ Grid Bot -->
<div class="modal fade" id="gridBotInfoModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title"><i class="fas fa-th"></i> Grid Trading Bot - –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
        <div class="row">
                    <div class="col-md-6">
                        <h6><i class="fas fa-brain"></i> –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-chart-line text-primary"></i> <strong>RSI –∞–Ω–∞–ª–∏–∑</strong> - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏</li>
                            <li><i class="fas fa-wind text-warning"></i> <strong>–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å</strong> - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä—ã–Ω–æ—á–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º</li>
                            <li><i class="fas fa-trending-up text-success"></i> <strong>–¢—Ä–µ–Ω–¥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</strong> - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä—ã–Ω–∫–∞</li>
                            <li><i class="fas fa-cogs text-info"></i> <strong>–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</strong> - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-shield-alt"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-percentage text-success"></i> <strong>–°—Ç–æ–ø-–ª–æ—Å—Å—ã</strong> - –∑–∞—â–∏—Ç–∞ –æ—Ç –±–æ–ª—å—à–∏—Ö –ø–æ—Ç–µ—Ä—å</li>
                            <li><i class="fas fa-balance-scale text-warning"></i> <strong>–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è</strong> - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–∞—Ä–∞–º</li>
                            <li><i class="fas fa-clock text-info"></i> <strong>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã</strong> - –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Ä–µ–º–µ–Ω–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏</li>
                            <li><i class="fas fa-exclamation-triangle text-danger"></i> <strong>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</strong> - –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</li>
                        </ul>
                    </div>
                </div>
                
                <hr>
                
                    <div class="row">
                    <div class="col-12">
                        <h6><i class="fas fa-coins"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤:</h6>
                        <div class="alert alert-info">
                            <p><strong>1. –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞</strong> - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç 8 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                            <p><strong>2. –†–∞—Å—á–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤</strong> - –ö–∞–∂–¥–∞—è –ø–∞—Ä–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–µ–Ω–¥–∞</p>
                            <p><strong>3. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong> - –°—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ä—ã–Ω–æ—á–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º</p>
                            <p><strong>4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏</strong> - –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏</p>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="card border-success">
                            <div class="card-body text-center">
                                <h5 class="text-success">–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π</h5>
                                <p class="small">–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫, —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å</p>
                                <div class="progress mb-2">
                                    <div class="progress-bar bg-success" style="width: 60%"></div>
                                </div>
                                <small>60% –∫–∞–ø–∏—Ç–∞–ª–∞</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card border-primary">
                            <div class="card-body text-center">
                                <h5 class="text-primary">–ë–∞–∑–æ–≤—ã–π</h5>
                                <p class="small">–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥</p>
                                <div class="progress mb-2">
                                    <div class="progress-bar bg-primary" style="width: 80%"></div>
                                </div>
                                <small>80% –∫–∞–ø–∏—Ç–∞–ª–∞</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card border-warning">
                            <div class="card-body text-center">
                                <h5 class="text-warning">–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π</h5>
                                <p class="small">–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫, –≤—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å</p>
                                <div class="progress mb-2">
                                    <div class="progress-bar bg-warning" style="width: 100%"></div>
                                </div>
                                <small>100% –∫–∞–ø–∏—Ç–∞–ª–∞</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                <a href="/bots" class="btn btn-primary">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º</a>
            </div>
        </div>
    </div>
                </div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ Scalp Bot -->
<div class="modal fade" id="scalpBotInfoModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title"><i class="fas fa-bolt"></i> Scalp Trading Bot - –°–∏—Å—Ç–µ–º–∞ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6><i class="fas fa-brain"></i> –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-robot text-warning"></i> <strong>–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</strong> - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</li>
                            <li><i class="fas fa-chart-line text-success"></i> <strong>–ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</strong> - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤</li>
                            <li><i class="fas fa-lightning-bolt text-danger"></i> <strong>–ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è</strong> - –∞–Ω–∞–ª–∏–∑ –∑–∞ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã</li>
                            <li><i class="fas fa-memory text-info"></i> <strong>–ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏</strong> - –≥–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ</li>
                        </ul>
            </div>
            <div class="col-md-6">
                        <h6><i class="fas fa-stopwatch"></i> –°–∫–∞–ª—å–ø–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</h6>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-clock text-warning"></i> <strong>–ë—ã—Å—Ç—Ä—ã–µ —Å–¥–µ–ª–∫–∏</strong> - –æ—Ç 1 –¥–æ 5 –º–∏–Ω—É—Ç</li>
                            <li><i class="fas fa-coins text-success"></i> <strong>–ú–∞–ª–∞—è –ø—Ä–∏–±—ã–ª—å</strong> - –Ω–æ –º–Ω–æ–≥–æ —Å–¥–µ–ª–æ–∫</li>
                            <li><i class="fas fa-shield-alt text-info"></i> <strong>–°—Ç–æ–ø-–ª–æ—Å—Å—ã</strong> - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä—å</li>
                            <li><i class="fas fa-chart-area text-primary"></i> <strong>–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å</strong> - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π</li>
                        </ul>
                    </div>
                </div>
                
                <hr>
                
                <div class="row">
                    <div class="col-12">
                        <h6><i class="fas fa-cogs"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:</h6>
                        <div class="alert alert-info">
                            <p><strong>1. –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞</strong> - –ò–ò —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –ø–∞—Ä—ã –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É</p>
                            <p><strong>2. –ü–æ–∏—Å–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</strong> - –ù–∞—Ö–æ–¥–∏—Ç –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</p>
                            <p><strong>3. –ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–µ —Å–¥–µ–ª–∫–∏</strong> - –í—Ö–æ–¥–∏—Ç –∏ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã</p>
                            <p><strong>4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong> - –ù–∏–∫–∞–∫–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
                </div>
            </div>
        </div>

                    <div class="row">
                        <div class="col-md-4">
                        <div class="card border-success">
                            <div class="card-body text-center">
                                <h5 class="text-success">–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π</h5>
                                <p class="small">–ú–µ–¥–ª–µ–Ω–Ω—ã–µ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏</p>
                                <div class="progress mb-2">
                                    <div class="progress-bar bg-success" style="width: 40%"></div>
                                </div>
                                <small>40% –∫–∞–ø–∏—Ç–∞–ª–∞</small>
                            </div>
                        </div>
                        </div>
                        <div class="col-md-4">
                        <div class="card border-warning">
                            <div class="card-body text-center">
                                <h5 class="text-warning">–ë–∞–∑–æ–≤—ã–π</h5>
                                <p class="small">–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫–∞–ª—å–ø–∏–Ω–≥</p>
                                <div class="progress mb-2">
                                    <div class="progress-bar bg-warning" style="width: 70%"></div>
                                </div>
                                <small>70% –∫–∞–ø–∏—Ç–∞–ª–∞</small>
                            </div>
                        </div>
                        </div>
                        <div class="col-md-4">
                        <div class="card border-danger">
                            <div class="card-body text-center">
                                <h5 class="text-danger">–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π</h5>
                                <p class="small">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–∏–±—ã–ª—å</p>
                                <div class="progress mb-2">
                                    <div class="progress-bar bg-danger" style="width: 100%"></div>
                                </div>
                                <small>100% –∫–∞–ø–∏—Ç–∞–ª–∞</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                <a href="/bots" class="btn btn-warning">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º</a>
                    </div>
                </div>
            </div>
        </div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º -->
<div class="modal fade" id="balanceModal" tabindex="-1" aria-labelledby="balanceModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="balanceModalLabel"><i class="fas fa-coins"></i> –î–µ—Ç–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –ø–æ –≤—Å–µ–º –±–∏—Ä–∂–∞–º</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
            </div>
            <div class="modal-body">
                <div id="balanceContent">
                    <div class="text-center">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                        <p class="mt-2">–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –±–∞–ª–∞–Ω—Å–µ...</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button type="button" class="btn btn-primary" onclick="refreshBalance()">
                    <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            </div>
        </div>
    </div>
</div>

{% if session.role in ['admin', 'super_admin'] %}
<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5>üëë –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏</h5>
            </div>
            <div class="card-body">
                <p>–£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!</p>
                <p class="text-success">‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã</p>
            </div>
        </div>
    </div>
</div>
{% else %}
<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5>üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º</h5>
                </div>
            <div class="card-body">
                <p>–•–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º —Å–∏—Å—Ç–µ–º—ã?</p>
                <p class="text-muted small">–≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –µ—â–µ –Ω–µ—Ç —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–≤.</p>
                <button class="btn btn-info" onclick="createSuperAdmin()">–°—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º</button>
                <div id="promote-result" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<script>

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤
function updateBotsData() {
    fetch('/api/dashboard/bots')
        .then(response => response.json())
        .then(data => {
            if (data.success && data.bots) {
                // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤
                const activeBots = data.bots.filter(bot => bot.status === 'running');
                const activeBotsCountElement = document.getElementById('activeBotsCount');
                if (activeBotsCountElement) {
                    activeBotsCountElement.textContent = activeBots.length;
                }
                
                // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
                let totalTrades = 0;
                data.bots.forEach(bot => {
                    if (bot.grid_info && bot.grid_info.total_orders) {
                        totalTrades += bot.grid_info.total_orders;
                    }
                    if (bot.scalp_info && bot.scalp_info.total_orders) {
                        totalTrades += bot.scalp_info.total_orders;
                    }
                });
                
                const totalTradesElement = document.getElementById('totalTrades');
                if (totalTradesElement) {
                    totalTradesElement.textContent = totalTrades;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º Grid Bot
                const gridBot = data.bots.find(bot => bot.bot_type === 'grid');
                if (gridBot) {
                    const statusElement = document.getElementById('gridBotStatus');
                    if (statusElement) {
                        if (gridBot.status === 'running') {
                            statusElement.innerHTML = '<span class="badge bg-success">–†–∞–±–æ—Ç–∞–µ—Ç</span>';
                        } else {
                            statusElement.innerHTML = '<span class="badge bg-secondary">–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span>';
                        }
                    }
                    
                    const profitElement = document.getElementById('gridBotProfit');
                    if (profitElement && gridBot.grid_info) {
                        const totalProfit = gridBot.grid_info.total_profit || 0;
                        const profitClass = totalProfit >= 0 ? 'text-success' : 'text-danger';
                        profitElement.innerHTML = `<span class="${profitClass}">$${totalProfit.toFixed(2)}</span>`;
                    }
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º Scalp Bot
                const scalpBot = data.bots.find(bot => bot.bot_type === 'scalp');
                if (scalpBot) {
                    const statusElement = document.getElementById('scalpBotStatus');
                    if (statusElement) {
                        if (scalpBot.status === 'running') {
                            statusElement.innerHTML = '<span class="badge bg-success">–†–∞–±–æ—Ç–∞–µ—Ç</span>';
                        } else {
                            statusElement.innerHTML = '<span class="badge bg-secondary">–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span>';
                        }
                    }
                    
                    const profitElement = document.getElementById('scalpBotProfit');
                    if (profitElement && scalpBot.scalp_info) {
                        const totalProfit = scalpBot.scalp_info.total_profit || 0;
                        const profitClass = totalProfit >= 0 ? 'text-success' : 'text-danger';
                        profitElement.innerHTML = `<span class="${profitClass}">$${totalProfit.toFixed(2)}</span>`;
                    }
                }
            }
        })
        .catch(error => {
            console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤:', error);
        });
}

// –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
setInterval(updateBotsData, 10000);

// –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
document.addEventListener('DOMContentLoaded', function() {
    updateBotsData();
});

function createSuperAdmin() {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º —Å–∏—Å—Ç–µ–º—ã?')) {
        fetch('/api/create-super-admin')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('promote-result').innerHTML = 
                        '<div class="alert alert-success">–í—ã —É—Å–ø–µ—à–Ω–æ —Å—Ç–∞–ª–∏ –ø–µ—Ä–≤—ã–º —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º! –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.</div>';
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                } else {
                    document.getElementById('promote-result').innerHTML = 
                        '<div class="alert alert-danger">–û—à–∏–±–∫–∞: ' + data.error + '</div>';
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞:', error);
                document.getElementById('promote-result').innerHTML = 
                    '<div class="alert alert-danger">–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞</div>';
            });
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–ª–∞–Ω—Å–∞
function updateBalance() {
    fetch('/api/balance')
        .then(response => response.json())
        .then(data => {
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            const totalBalanceElement = document.getElementById('totalBalance');
            if (totalBalanceElement) {
                if (data.success && data.balance && data.balance.connected) {
                    let totalBalance = data.balance.total_usdt || 0;
                    let hasValidBalance = totalBalance > 0;
                    
                    // totalBalance —É–∂–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –∏–∑ API
                    hasValidBalance = totalBalance > 0;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∂–∏–º–∞—Ö
                    let balanceInfo = `$${totalBalance.toFixed(2)}`;
                    
                    if (data.balance.exchanges && data.balance.exchanges.length > 0) {
                        const demoExchanges = data.balance.exchanges.filter(ex => ex.mode === 'demo' || ex.mode === 'sandbox');
                        const liveExchanges = data.balance.exchanges.filter(ex => ex.mode === 'live' || ex.mode === 'real');
                        
                        if (demoExchanges.length > 0 && liveExchanges.length > 0) {
                            balanceInfo += ' (–î–µ–º–æ + –†–µ–∞–ª)';
                        } else if (demoExchanges.length > 0) {
                            balanceInfo += ' (–î–µ–º–æ)';
                        } else if (liveExchanges.length > 0) {
                            balanceInfo += ' (–†–µ–∞–ª)';
                        }
                    }
                    
                    if (hasValidBalance) {
                        totalBalanceElement.textContent = balanceInfo;
                        totalBalanceElement.className = 'text-success fw-bold';
                    } else {
                        totalBalanceElement.textContent = '–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–æ–≤';
                        totalBalanceElement.className = 'text-muted';
                    }
                } else {
                    totalBalanceElement.textContent = '–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –±–∏—Ä–∂';
                    totalBalanceElement.className = 'text-muted';
                }
            }
        })
        .catch(error => {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–ª–∞–Ω—Å–∞:', error);
            const totalBalanceElement = document.getElementById('totalBalance');
            if (totalBalanceElement) {
                totalBalanceElement.textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
                totalBalanceElement.className = 'text-danger';
            }
        });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º
function showBalanceModal() {
    const modal = new bootstrap.Modal(document.getElementById('balanceModal'));
    modal.show();
    loadDetailedBalance();
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
function loadDetailedBalance() {
    const balanceContent = document.getElementById('balanceContent');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä
    balanceContent.innerHTML = `
        <div class="text-center">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <p class="mt-2">–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –±–∞–ª–∞–Ω—Å–µ...</p>
        </div>
    `;
    
    fetch('/api/balance/detailed')
        .then(response => response.json())
        .then(data => {
            if (data.success && data.detailed_balances && data.detailed_balances.length > 0) {
                let totalBalance = 0;
                let balanceHtml = '';
                
                data.detailed_balances.forEach(exchange => {
                    let exchangeTotal = 0;
                    let currencyRows = '';
                    
                    exchange.currencies.forEach(currency => {
                        exchangeTotal += currency.total;
                        totalBalance += currency.total;
                        
                        currencyRows += `
                            <tr>
                                <td><strong>${currency.currency}</strong></td>
                                <td class="text-success">${currency.total.toFixed(8)}</td>
                                <td class="text-info">${currency.free.toFixed(8)}</td>
                                <td class="text-warning">${currency.used.toFixed(8)}</td>
                            </tr>
                        `;
                    });
                    
                    balanceHtml += `
                        <div class="card mb-3">
                            <div class="card-header bg-primary text-white">
                                <h6 class="mb-0">
                                    <i class="fas fa-exchange-alt"></i> 
                                    ${exchange.exchange.toUpperCase()} 
                                    <span class="badge bg-light text-dark">${exchange.mode}</span>
                                    <span class="float-end">
                                        <button class="btn btn-sm btn-outline-light" onclick="toggleExchangeDetails('${exchange.key_name}')">
                                            –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ ${exchange.total_currencies} –≤–∞–ª—é—Ç
                                        </button>
                                    </span>
                                </h6>
                            </div>
                            <div class="card-body" id="details-${exchange.key_name}" style="display: none;">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>–í–∞–ª—é—Ç–∞</th>
                                            <th>–û–±—â–∏–π</th>
                                            <th>–°–≤–æ–±–æ–¥–Ω—ã–π</th>
                                            <th>–í –æ—Ä–¥–µ—Ä–∞—Ö</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${currencyRows}
                                    </tbody>
                                </table>
                            </div>
                        </div>`;
                });
                
                balanceContent.innerHTML = `
                    <div class="row mb-3">
                        <div class="col-12">
                            <div class="alert alert-success">
                                <h5 class="mb-0">
                                    <i class="fas fa-coins"></i> 
                                    –û–±—â–∏–π –±–∞–ª–∞–Ω—Å: <strong>$${totalBalance.toFixed(2)}</strong>
                                </h5>
                            </div>
                        </div>
                    </div>
                    ${balanceHtml || '<div class="text-center text-muted"><p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–æ–≤</p></div>'}
                `;
            } else {
                balanceContent.innerHTML = `
                    <div class="text-center text-muted">
                        <i class="fas fa-exclamation-triangle fa-3x mb-3"></i>
                        <h5>–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –±–∏—Ä–∂</h5>
                        <p>–î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "API –ö–ª—é—á–∏" –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞</p>
                        <a href="/api-keys" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏</a>
                    </div>
                `;
            }
        })
        .catch(error => {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞:', error);
            balanceContent.innerHTML = `
                <div class="text-center text-danger">
                    <i class="fas fa-exclamation-triangle fa-3x mb-3"></i>
                    <h5>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h5>
                    <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –±–∞–ª–∞–Ω—Å–µ</p>
                    <button class="btn btn-primary" onclick="loadDetailedBalance()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                </div>
            `;
        });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
function refreshBalance() {
    loadDetailedBalance();
    updateBalance(); // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–∫–∂–µ –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
}

// –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
setInterval(updateBalance, 30000);

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –±–∏—Ä–∂–∏
function toggleExchangeDetails(keyName) {
    const detailsElement = document.getElementById(`details-${keyName}`);
    if (detailsElement) {
        if (detailsElement.style.display === 'none') {
            detailsElement.style.display = 'block';
        } else {
            detailsElement.style.display = 'none';
        }
    }
}

// –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–ª–∞–Ω—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    updateBalance();
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –±–∏—Ä–∂
function showAllExchanges() {
    const exchanges = [
        { name: 'Binance', status: '–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ö—Ä—É–ø–Ω–µ–π—à–∞—è –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–∞' },
        { name: 'OKX', status: '–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏—Ä–∂–∞' },
        { name: 'Bybit', status: '–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–§—å—é—á–µ—Ä—Å—ã –∏ —Å–ø–æ—Ç' },
        { name: 'Huobi', status: '–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ì–ª–æ–±–∞–ª—å–Ω–∞—è –±–∏—Ä–∂–∞' },
        { name: 'Kraken', status: '–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –±–∏—Ä–∂–∞' },
        { name: 'Coinbase Pro', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –±–∏—Ä–∂–∞' },
        { name: 'Bitfinex', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∏—Ä–∂–∞' },
        { name: 'KuCoin', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ê–ª—å—Ç–∫–æ–∏–Ω –±–∏—Ä–∂–∞' },
        { name: 'Gate.io', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –±–∏—Ä–∂–∞' },
        { name: 'MEXC', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –±–∏—Ä–∂–∞' },
        { name: 'Bitget', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ö–æ–ø–∏-—Ç—Ä–µ–π–¥–∏–Ω–≥' },
        { name: 'Crypto.com', status: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–ú–æ–±–∏–ª—å–Ω–∞—è –±–∏—Ä–∂–∞' }
    ];
    
    let modalHtml = `
        <div class="modal fade" id="exchangesModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                            <i class="fas fa-exchange-alt"></i> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∏—Ä–∂–∏
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p class="text-muted mb-3">–í—Å–µ –±–∏—Ä–∂–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É CCXT</p>
                        <div class="row">
    `;
    
    exchanges.forEach(exchange => {
        modalHtml += `
            <div class="col-md-6 mb-3">
                <div class="card h-100">
                    <div class="card-body">
                        <h6 class="card-title">${exchange.name}</h6>
                        <p class="card-text text-muted small">${exchange.description}</p>
                        <span class="badge bg-success">${exchange.status}</span>
                    </div>
                </div>
            </div>
        `;
    });
    
    modalHtml += `
                        </div>
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-info-circle"></i>
                            <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏—Ä–∂–∞–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "API –ö–ª—é—á–∏"
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                        <a href="/api-keys" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏</a>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å
    const existingModal = document.getElementById('exchangesModal');
    if (existingModal) {
        existingModal.remove();
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    document.body.insertAdjacentHTML('beforeend', modalHtml);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = new bootstrap.Modal(document.getElementById('exchangesModal'));
    modal.show();
}
</script>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±–∏—Ä–∂ -->
<div class="modal fade" id="exchangesModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-exchange-alt"></i> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∏—Ä–∂–∏
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p class="text-muted mb-3">–í—Å–µ –±–∏—Ä–∂–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É CCXT</p>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Binance</h6>
                                <p class="card-text text-muted small">–ö—Ä—É–ø–Ω–µ–π—à–∞—è –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–∞</p>
                                <span class="badge bg-success">–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">OKX</h6>
                                <p class="card-text text-muted small">–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-success">–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Bybit</h6>
                                <p class="card-text text-muted small">–§—å—é—á–µ—Ä—Å—ã –∏ —Å–ø–æ—Ç</p>
                                <span class="badge bg-success">–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Huobi</h6>
                                <p class="card-text text-muted small">–ì–ª–æ–±–∞–ª—å–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-success">–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Kraken</h6>
                                <p class="card-text text-muted small">–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-success">–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Coinbase Pro</h6>
                                <p class="card-text text-muted small">–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Bitfinex</h6>
                                <p class="card-text text-muted small">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">KuCoin</h6>
                                <p class="card-text text-muted small">–ê–ª—å—Ç–∫–æ–∏–Ω –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Gate.io</h6>
                                <p class="card-text text-muted small">–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">MEXC</h6>
                                <p class="card-text text-muted small">–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Bitget</h6>
                                <p class="card-text text-muted small">–ö–æ–ø–∏-—Ç—Ä–µ–π–¥–∏–Ω–≥</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="card-title">Crypto.com</h6>
                                <p class="card-text text-muted small">–ú–æ–±–∏–ª—å–Ω–∞—è –±–∏—Ä–∂–∞</p>
                                <span class="badge bg-primary">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="alert alert-info mt-3">
                    <i class="fas fa-info-circle"></i>
                    <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏—Ä–∂–∞–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "API –ö–ª—é—á–∏"
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                <a href="/api-keys" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏</a>
            </div>
        </div>
    </div>
</div>

{% endblock %}