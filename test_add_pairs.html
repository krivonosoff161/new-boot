<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä</title>
</head>
<body>
    <h1>–¢–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä</h1>
    
    <div>
        <input type="text" id="newTradingPair" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: BTC/USDT">
        <button onclick="addTradingPair()">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
    
    <div id="availablePairsList" style="margin-top: 20px; border: 1px solid #ccc; padding: 10px;">
        <!-- –°–ø–∏—Å–æ–∫ –ø–∞—Ä -->
    </div>
    
    <div id="debug" style="margin-top: 20px; background: #f0f0f0; padding: 10px;">
        <h3>–û—Ç–ª–∞–¥–∫–∞:</h3>
        <div id="debugInfo"></div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let tradingPairs = [];
        
        function debug(message) {
            const debugDiv = document.getElementById('debugInfo');
            debugDiv.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + message + '</div>';
        }
        
        function isValidTradingPair(pair) {
            const pattern = /^[A-Z]{2,10}\/[A-Z]{2,10}$/;
            return pattern.test(pair);
        }
        
        function addTradingPair() {
            const input = document.getElementById('newTradingPair');
            if (!input) {
                debug('‚ùå –ü–æ–ª–µ newTradingPair –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                return;
            }
            
            const pair = input.value.trim().toUpperCase();
            debug('üîç –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É: ' + pair);
            
            if (!pair) {
                debug('‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤—É—é –ø–∞—Ä—É');
                return;
            }
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
            if (!isValidTradingPair(pair)) {
                debug('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä—ã: ' + pair);
                input.focus();
                input.select();
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–∏ —É–∂–µ
            if (tradingPairs.includes(pair)) {
                debug('‚ö†Ô∏è –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞ ' + pair + ' —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞');
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä—É
            tradingPairs.push(pair);
            input.value = '';
            
            debug('‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞—Ä–∞: ' + pair);
            debug('üìä –í—Å–µ–≥–æ –ø–∞—Ä: ' + tradingPairs.length);
            debug('üìä –°–ø–∏—Å–æ–∫ –ø–∞—Ä: ' + JSON.stringify(tradingPairs));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateTradingPairsList();
        }
        
        function updateTradingPairsList() {
            const container = document.getElementById('availablePairsList');
            if (!container) {
                debug('‚ùå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä availablePairsList –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return;
            }
            
            if (tradingPairs.length === 0) {
                container.innerHTML = '<div class="text-center text-muted py-3">–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ä</div>';
                return;
            }
            
            container.innerHTML = tradingPairs.map(pair => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 5px; border-bottom: 1px solid #eee;">
                    <code>${pair}</code>
                    <button onclick="removeTradingPair('${pair}')" style="background: red; color: white; border: none; padding: 2px 5px;">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            `).join('');
            
            debug('üîÑ –°–ø–∏—Å–æ–∫ –ø–∞—Ä –æ–±–Ω–æ–≤–ª–µ–Ω');
        }
        
        function removeTradingPair(pair) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç–æ—Ä–≥–æ–≤—É—é –ø–∞—Ä—É ' + pair + '?')) {
                return;
            }
            
            const index = tradingPairs.indexOf(pair);
            if (index > -1) {
                tradingPairs.splice(index, 1);
                debug('üóëÔ∏è –£–¥–∞–ª–µ–Ω–∞ –ø–∞—Ä–∞: ' + pair);
                updateTradingPairsList();
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        debug('üöÄ –¢–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä –∑–∞–ø—É—â–µ–Ω');
    </script>
</body>
</html>

